version: "3.8"

services:
  vllm-proxy:
    build:
      context: ./proxy
      dockerfile: Dockerfile
    container_name: vllm-proxy
    environment:
      # Set these to point at your real vLLM/Gwen endpoint
      TARGET_HOST: "192.168.28.137"
      TARGET_PORT: "11458"
      # Optional: set a PROXY_API_KEY to require Authorization header
      # PROXY_API_KEY: "super-secret-key"
    ports:
      - "11458:11458"
    restart: unless-stopped
  n8n:
     image: n8nio/n8n:latest
     container_name: n8n
     environment:
       - N8N_BASIC_AUTH_ACTIVE=false
     ports:
       - "5680:5678"
     depends_on:
       - vllm-proxy
     restart: unless-stopped
